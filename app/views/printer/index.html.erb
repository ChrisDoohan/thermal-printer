<% content_for :head do %>
  <link href="https://cdn.quilljs.com/1.3.7/quill.snow.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<% end %>

<div id="printer-config" data-print-url="<%= print_path %>" data-cut-url="<%= cut_path %>"></div>
<div id="starfield"></div>

<div class="container">
  <h1>Thermal Printer</h1>

  <div id="printer-status" class="status <%= @connected ? 'connected' : 'disconnected' %>">
    <span class="indicator"></span>
    <span class="status-text">
      <%= @connected ? "Printer connected" : "Printer not found" %>
    </span>
  </div>

  <div id="toast" class="toast"></div>

  <div class="editor-wrap">
    <div id="editor"></div>
  </div>

  <div class="actions">
    <button type="button" class="btn" onclick="submitPrint('print')">Print</button>
    <button type="button" class="btn btn-primary" onclick="submitPrint('print_and_cut')">Print & Cut</button>
    <button type="button" class="btn" onclick="submitCut()">Cut Paper</button>
  </div>
</div>

<script src="https://cdn.quilljs.com/1.3.7/quill.js"></script>
<%= javascript_include_tag "printer" %>
